{% extends "base.html" %}
{% load static %}
{% block title %}Demographic Information{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h3>Demographic Information</h3>
                    <p class="mb-0 text-muted">This information helps us understand how our system works across different groups. All responses are optional and will be kept confidential.</p>
                </div>
                <div class="card-body">
                    <form method="post" id="demographicForm">
                        {% csrf_token %}
                        
                        <div class="mb-3">
                            <label for="skin_type" class="form-label">Fitzpatrick Skin Type</label>
                            <select class="form-select" name="fitzpatrick_skin_type" id="skin_type">
                                <option value="">Select your skin type (optional)</option>
                                <option value="I">Type I - Very fair (always burns, never tans)</option>
                                <option value="II">Type II - Fair (usually burns, tans minimally)</option>
                                <option value="III">Type III - Medium (sometimes burns, tans gradually)</option>
                                <option value="IV">Type IV - Olive (rarely burns, tans well)</option>
                                <option value="V">Type V - Brown (very rarely burns, tans very easily)</option>
                                <option value="VI">Type VI - Dark brown/Black (never burns, tans very easily)</option>
                                <option value="prefer_not_to_say">Prefer not to say</option>
                            </select>
                            <div class="form-text">
                                The Fitzpatrick scale classifies skin types based on reaction to sun exposure.
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="age_group" class="form-label">Age Group</label>
                            <select class="form-select" name="age_group" id="age_group">
                                <option value="">Select age group (optional)</option>
                                <option value="18-25">18-25</option>
                                <option value="26-35">26-35</option>
                                <option value="36-45">36-45</option>
                                <option value="46-55">46-55</option>
                                <option value="56-65">56-65</option>
                                <option value="65+">65+</option>
                                <option value="prefer_not_to_say">Prefer not to say</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="gender" class="form-label">Gender</label>
                            <select class="form-select" name="gender" id="gender">
                                <option value="">Select gender (optional)</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="non_binary">Non-binary</option>
                                <option value="other">Other</option>
                                <option value="prefer_not_to_say">Prefer not to say</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="education" class="form-label">Education Level</label>
                            <select class="form-select" name="education_level" id="education">
                                <option value="">Select education level (optional)</option>
                                <option value="high_school">High school or equivalent</option>
                                <option value="bachelors">Bachelor's degree</option>
                                <option value="masters">Master's degree</option>
                                <option value="phd">PhD or equivalent</option>
                                <option value="other">Other</option>
                                <option value="prefer_not_to_say">Prefer not to say</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Medical History</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="has_skin_condition" id="skinCondition">
                                <label class="form-check-label" for="skinCondition">
                                    I have a known skin condition
                                </label>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Technology Experience</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="previous_ai_experience" id="aiExperience">
                                <label class="form-check-label" for="aiExperience">
                                    I have used AI-based diagnostic tools before
                                </label>
                            </div>
                        </div>
                        
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button type="button" class="btn btn-outline-secondary me-md-2" onclick="skipDemographics()">
                                Skip
                            </button>
                            <button type="submit" class="btn btn-primary">
                                Continue to Study
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function skipDemographics() {
    // Redirect to main study without saving demographics
    window.location.href = "{% url 'upload' %}";
}
</script>
{% endblock %}